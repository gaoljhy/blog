# 聊天

```python
import requests
import itchat
import random

def get_response(msg):
    apiUrl = 'http://api.qingyunke.com/api.php?key=free&appid=0&msg=' + msg
    if msg.find("你是") != -1 :
        return "我是基哥小助理"
    elif msg.find("菲菲") != -1 :
        return "鬼知道"
    elif msg.find("爸爸") != -1 :
        return "你和我都是基哥的儿子"
    elif msg.find("急") != -1 :
        return "请电话联系基哥"
    try:
        r = requests.get(apiUrl).json()
        return r.get('content')
    except:
        return "不好意思，有点失误！"

@itchat.msg_register(itchat.content.TEXT)
def tuling_reply(msg):
    defaultReply = '我收到的是：' + msg['Text'] + "?"
    robots=['   \n小助理',  ]
    reply = get_response(msg['Text'])+random.choice(robots)
    if reply.find("菲菲") != -1:
        return "基哥小助理已经收到！！！"
    elif reply.find("梅州行") != -1:
        return "基哥小助理已经收到！！！"
    elif reply.find("http") != -1:
        return "基哥小助理已经收到！！！"
    elif reply.find("爹") != -1:
        return "基哥是我爹！！！"
    return reply or defaultReply

itchat.auto_login(enableCmdQR=True)
itchat.run()
```
