# 使用Wechaty

## 一、安装使用

从`github`上拉取wechaty代码，按照步骤进行环境配置和安装后，运行，出现一个二维码和地址，网页访问地址展现完整二维码，微信扫码登陆，然后在控制台会打印微信的交流信息。

运行：`wechaty-getting-started` 里有很多示例，在`cmd`中对对应的`js`文件运行 `node xx.js`即可

## 二、实现原理和使用

Wechaty基本的实现原理，是通过`Chrome实`时监听微信网页版的各类信息，然后将抓取的信息封装成接口，供开发者使用。

### 基本事件

有9个基本的事件，基本上涵盖了Web微信上的所有事件，分别是：

1. `scan`事件会在需要扫码登陆微信的被触发

2. `login`事件会在机器人成功登陆后被触发

3. `logout`事件会在机器人掉线以后被触发

4. `message`事件会在有新消息的时候被触发

5. `error`事件会在程序出现error的时候被触发

6. `friend`事件会在有好友请求的时候被触发

7. `room-join`事件会在有人加入群时被触发

8. `room-leave`事件会在群主移好友出群时被触发

9. `room-topic`事件会在群名称被修改时被触发

### 类封装

Wechaty将机器人、联系人、微信群、好友请求封装成类，分别是

1. Wechaty
2. Contact
3. Message
4. FriendRequest

这样只要`import`这些包，就可以直接使用这些类里面的函数模拟微信的各种操作了。

### 示例

比如给指定的人发送消息，只要用 `contact.say(‘hello’)` 就可以了。

`Wechaty`里面的函数名称起的非常人性化，使用`JS`进行业务逻辑编写的时候，读代码像和读英文文档一样流畅舒服。


## 三 使用文档

详见 <https://docs.chatie.io>

 

 


————————————————
版权声明：本文为CSDN博主「溜溜的阿溜」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/cindy647/article/details/89506804