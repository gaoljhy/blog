## Diff命令的功能
逐行比较两个文本文件，列出其不同之处。

>对给出的文件进行系统的检查，并显示出两个文件中所有不同的行<br/>
>不要求事先对文件进行排序。

---
## 语法
```diff [options] file1 file2```

>如果`file1`或`file2`是目录，`diff`将使用该目录中的**同名**文件进行比较。

## `[options]`主要参数

|参数|作用|
|:---:|-----|
|`-a` | 将所有文件当作文本文件来处理。
|`-b` 或 `–ignore-space-change`|　忽略空格造成的不同。
|`-B` 或 `–ignore-blank-lines` | 　忽略空行造成的不同。
|`-c` |使用纲要输出格式。
|`-H` |利用试探法加速对大文件的搜索。
|`-I`|忽略大小写的变化。
|`-n –rcs`|输出`RCS`格式。
|`-N` 或 `–new-file`| 　在**比较目录**时，若文件A仅出现在某个目录中<br/>会显示：`Only in 目录;` <br/>文件A若使用`-N`参数，则`diff`会将文件A与一个空白的文件比较。
|`-r`或–`recursive` |　比较子目录中的文件。
|`-u,-U<列数>` 或 `–unified=<列数> `|　以合并的方式来显示文件内容的不同。

----
----
## 使用方法的实例说明

例如：```diff /usr/xu mine```

把目录`/usr/xu` 中名为`mine`的文件与 **当前目录**中的`mine`文件进行比较。

通常输出由下述形式的行组成：
```
n1 a n3，n4

n1，n2 d n3

n1，n2 c n3，n4 
```
这些行类似`ed`命令把`filel`转换成`file2`。<br>
字母`a、d和c`之前的行号`n1，n2`是针对`file1`的<br/>
其后面的行号`n3，n4`是针对`file2`的。<br/>
>字母`a、d和c`分别表示**附加**、**删除**和**修改**操作。

在上述形式的每一行的后面跟随受到影响的若干行
> 以 `<` 打头的行属于第一个文件，以 `>` 打头的行属于第二个文件。
<hr/>

diff能区别块和字符设备文件以及FIFO(管道文件)，不会把它们与普通文件进行比较。

如果file1和file2都是目录，则diff会产生很多信息。

## diff最常用的功能

1. diff有很多功能平时不常用到，最常用的功能莫过于生成patch文件了：

    ```diff -urN old/ new/ > mysoft.patch```

    参数:

    `-u` 表示使用 `unified` 格式<br>
    `-r` 表示`比较目录` <br>
    `-N` 表示`将不存在的文件当作空文件处理`
    >这样新添加的文件也会出现在patch文件中。

    然后在需要应用`patc`h的地方使用下述命令即可：

    ```patch -p0 < mysoft.patch```


2. `diff`的 `-y` 命令(长格式为 `–side-by-side`)

    ```diff -y  file1 file2` -W <number>``

    可以将屏幕分成左右两部分，来比较两个文件之间的差异。
    
    如果要改变左右各部分的宽度，可以通过 `-W (–width)`参数来指定。

3. `–ignore-blank-lines` 参数
    
    不检查空白行。
    
    这样DOS格式和Unix格式的文件互相比较时，就不至于因为换行符不一致而出现大量的差异。
